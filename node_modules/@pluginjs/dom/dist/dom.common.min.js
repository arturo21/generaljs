/*!
 * @pluginjs/dom v0.7.17 (https://pluginjs.com)
 * Copyright 2019 Creation Studio Limited
 * Released under the GPL-3.0 License.
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var utils=require("@pluginjs/utils"),is=require("@pluginjs/is"),parseHTML=function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];var i=Array.isArray(r[0])?r[0].reduce((e,t,i)=>e+r[i]+t):r[0],n=document.createElement("div");if(n.innerHTML=i,1===n.children.length)return n.children[0];var s=document.createDocumentFragment();if(n.children.length)for(;n.children.length>0;)s.appendChild(n.children[0]);else for(;n.childNodes.length>0;)s.appendChild(n.childNodes[0]);return s},query=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return r.querySelector(e)},queryAll=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return Array.from(r.querySelectorAll(e))},find=utils.curry((e,r)=>r.querySelector(e)),findAll=utils.curry((e,r)=>Array.from(r.querySelectorAll(e))),has=(e,r)=>is.isString(e)?Boolean(queryAll(e,r).length):r.contains(e),contents=e=>"IFRAME"===e.tagName?[e.contentDocument]:e.childNodes,children=(e,r)=>(is.isString(e)||void 0!==r||(r=e,e=void 0),is.isElement(r)?is.isString(e)?Array.from(r.children).filter(r=>r.matches(e)):Array.from(r.children):[]),siblings=(e,r)=>(is.isString(e)||void 0!==r||(r=e,e=void 0),is.isElement(r)?children(e,r.parentNode).filter(e=>e!==r):[]),prev=e=>e.previousElementSibling,next=e=>e.nextElementSibling,prevWith=utils.curry((e,r)=>{var t=r.previousElementSibling;return t?e(t)?t:prevWith(e,t):null}),nextWith=utils.curry((e,r)=>{var t=r.nextElementSibling;return t?e(t)?t:nextWith(e,t):null}),parent=e=>e.parentNode,parents=(e,r)=>{is.isString(e)||void 0!==r||(r=e,e=void 0);for(var t=[],i=r;is.isElement(i)&&i.parentNode&&i!==document.body.parentNode;)i=i.parentNode,(!e||e&&i.matches(e))&&t.push(i);return t},parentWith=utils.curry((e,r)=>{var t=r.parentNode;return!(!t||t===document)&&(e(t)?t:parentWith(e,t))}),closest=(e,r)=>r.matches(e)?r:parentWith(r=>r.matches(e),r),offsetParent=e=>{for(var r=e.offsetParent;r&&"static"===r.style.position;)r=r.offsetParent;return r||document.documentElement},scrollParent=e=>parentWith(e=>e.scrollHeight>e.clientHeight,e),indexOf=e=>[...e.parentElement.children].indexOf(e),dataStore="__pluginjsData",getCachedData=e=>e[dataStore]=e[dataStore]||{},getData=(e,r)=>{is.isElement(e)&&void 0===r&&(r=e,e=void 0);var t=getCachedData(r);if(e){if(!(e in t)){var i=r.dataset[e]||r.dataset[utils.camelize(e,!1)];if(void 0!==i){try{i=JSON.parse(i)}catch(e){}t[e]=i}}return t[e]}return t},setData=(e,r,t)=>(getCachedData(t)[e]=r,t),removeData=(e,r)=>(is.isElement(e)&&void 0===r&&(r=e,e=void 0),void 0===e?delete r[dataStore]:delete getCachedData(r)[e],r),hasData=e=>dataStore in e&&!is.isEmptyObject(e[dataStore]),data=utils.curryWith((e,r,t)=>{if(is.isElement(r)&&void 0===t&&(t=r,r=void 0),"string"==typeof e){if(void 0===r)return getData(e,t);setData(e,r,t)}else Object.entries(e).forEach(e=>{var[r,i]=e;return setData(r,i,t)});return t},is.isElement),attr=utils.curryWith((e,r,t)=>{if(is.isElement(r)&&void 0===t&&(t=r,r=void 0),"string"==typeof e){if(void 0===r)return t.getAttribute(e);t.setAttribute(e,r)}else Object.entries(e).forEach(e=>{var[r,i]=e;return t.setAttribute(r,i)});return t},is.isElement),removeAttr=utils.curry((e,r)=>(e.split(" ").forEach(e=>{r.removeAttribute(e)}),r)),propMap={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop=utils.curryWith((e,r,t)=>{if(is.isElement(r)&&void 0===t&&(t=r,r=void 0),"string"==typeof e){if(void 0===r)return t[propMap[e]||e];t[propMap[e]||e]=r}else Object.entries(e).forEach(e=>{var[r,i]=e;t[propMap[r]||r]=i});return t},is.isElement),removeProp=utils.curry((e,r)=>(e.split(" ").forEach(e=>{e=propMap[e]||e,delete r[e]}),r)),clone=utils.curry(e=>e.cloneNode(!0)),detach=utils.curry(e=>(e.parentNode&&e.parentNode.removeChild(e),e)),remove=utils.curry(e=>e.remove()),empty=utils.curry(e=>{for(;e.lastChild;)e.removeChild(e.lastChild);return e}),html=utils.curryWith((e,r)=>(is.isString(e)||void 0!==r||(r=e,e=void 0),void 0===e?r.innerHTML:(r.innerHTML=e,r)),is.isElement),text=utils.curryWith((e,r)=>(is.isString(e)||void 0!==r||(r=e,e=void 0),void 0===e?r.textContent:(r.textContent=e,r)),is.isElement),append=utils.curry((e,r)=>(is.isString(e)?r.insertAdjacentHTML("beforeend",e):r.append(e),r)),appendTo=utils.curry((e,r)=>(is.isString(e)&&(e=parseHTML(e)),r.append(e),e)),prepend=utils.curry((e,r)=>(is.isString(e)?r.insertAdjacentHTML("afterbegin",e):r.prepend(e),r)),prependTo=utils.curry((e,r)=>(is.isString(e)&&(e=parseHTML(e)),r.prepend(e),e)),before=utils.curry((e,r)=>(is.isString(e)?r.insertAdjacentHTML("beforebegin",e):r.parentNode.insertBefore(e,r),r)),insertBefore=utils.curry((e,r)=>(is.isString(e)&&(e=parseHTML(e)),NodeList.prototype.isPrototypeOf(e)?e.forEach(e=>{r.parentNode.insertBefore(e,r)}):r.parentNode.insertBefore(e,r),e)),after=utils.curry((e,r)=>(is.isString(e)?r.insertAdjacentHTML("afterend",e):r.parentNode.insertBefore(e,r.nextElementSibling),r)),insertAfter=utils.curry((e,r)=>(is.isString(e)&&(e=parseHTML(e)),NodeList.prototype.isPrototypeOf(e)?e.forEach(e=>{r.parentNode.insertBefore(e,r.nextElementSibling)}):r.parentNode.insertBefore(e,r.nextElementSibling),e)),wrap=utils.curry((e,r)=>(is.isString(e)&&(e=parseHTML(e)),insertBefore(e,r),append(r,e),e)),wrapInner=utils.curry((e,r)=>(is.isString(e)&&(e=parseHTML(e)),e.innerHTML=r.innerHTML,r.innerHTML="",r.append(e),r)),wrapAll=utils.curry((e,r)=>(is.isString(e)&&(e=parseHTML(e)),insertBefore(e,r[0]),e.append(...r),e)),unwrap=utils.curryWith((e,r)=>{is.isString(e)||void 0!==r||(r=e,e=void 0);var t=r.parentNode;return e&&!t.matches(e)||(children(t).forEach(e=>{insertBefore(e,t)}),t.remove()),r},is.isElement),replace=utils.curry((e,r)=>(is.isString(e)&&(e=parseHTML(e)),r.parentNode.replaceChild(e,r),r.remove(),e));exports.after=after,exports.append=append,exports.appendTo=appendTo,exports.attr=attr,exports.before=before,exports.children=children,exports.clone=clone,exports.closest=closest,exports.contents=contents,exports.data=data,exports.detach=detach,exports.empty=empty,exports.find=find,exports.findAll=findAll,exports.getData=getData,exports.has=has,exports.hasData=hasData,exports.html=html,exports.indexOf=indexOf,exports.insertAfter=insertAfter,exports.insertBefore=insertBefore,exports.next=next,exports.nextWith=nextWith,exports.offsetParent=offsetParent,exports.parent=parent,exports.parentWith=parentWith,exports.parents=parents,exports.parseHTML=parseHTML,exports.prepend=prepend,exports.prependTo=prependTo,exports.prev=prev,exports.prevWith=prevWith,exports.prop=prop,exports.query=query,exports.queryAll=queryAll,exports.remove=remove,exports.removeAttr=removeAttr,exports.removeData=removeData,exports.removeProp=removeProp,exports.replace=replace,exports.scrollParent=scrollParent,exports.setData=setData,exports.siblings=siblings,exports.text=text,exports.unwrap=unwrap,exports.wrap=wrap,exports.wrapAll=wrapAll,exports.wrapInner=wrapInner;
