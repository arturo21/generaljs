/*!
 * @pluginjs/simple-emitter v0.7.14 (https://pluginjs.com)
 * Copyright 2019 Creation Studio Limited
 * Released under the GPL-3.0 License.
 */
export default class{constructor(){this.listeners={}}emit(e){for(var t=this.getListeners(e),s=arguments.length,r=new Array(s>1?s-1:0),n=1;n<s;n++)r[n-1]=arguments[n];for(var i=0;i<t.length;i++){var h=null;h=null!==t[i].context?t[i].context:{type:e};var l=t[i].listener.apply(h,r);if(t[i].one&&this.removeListener(e,t[i].listener),!1===l)return!1}return!0}on(e,t,s){return this.addListener(e,t,s)}once(e,t,s){return this.addListenerOnce(e,t,s)}off(e,t){return void 0===t?this.removeAllListeners(e):this.removeListener(e,t)}addListener(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.ensureListener(t),this.hasListeners(e)||(this.listeners[e]=[]),this.listeners[e].push({context:s,listener:t,one:r}),this}addListenerOnce(e,t,s){return this.addListener(e,t,s,!0)}removeListener(e,t){return this.hasListeners(e)&&(this.listeners[e]=this.listeners[e].filter(e=>e.listener!==t),0===this.listeners[e].length&&delete this.listeners[e]),this}removeAllListeners(e){return this.hasListeners(e)&&delete this.listeners[e],this}hasListeners(e){return!(!this.listeners[e]||0===this.listeners[e].length)}getListeners(e){return this.hasListeners(e)?this.listeners[e]:[]}ensureListener(e){var t=typeof e;if("function"===t)return e;throw new TypeError("Listeners should be function or closure. Received type: ".concat(t))}}
