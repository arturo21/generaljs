/*!
 * @pluginjs/decorator v0.7.18 (https://pluginjs.com)
 * Copyright 2019 Creation Studio Limited
 * Released under the GPL-3.0 License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@pluginjs/is"),require("@pluginjs/global-component"),require("@pluginjs/factory"),require("@pluginjs/utils"),require("@pluginjs/dom"),require("@pluginjs/events"),require("@pluginjs/i18n")):"function"==typeof define&&define.amd?define(["exports","@pluginjs/is","@pluginjs/global-component","@pluginjs/factory","@pluginjs/utils","@pluginjs/dom","@pluginjs/events","@pluginjs/i18n"],t):t((e=e||self)["@pluginjs/decorator"]={},e["@pluginjs/is"],e["@pluginjs/global-component"],e["@pluginjs/factory"],e["@pluginjs/utils"],e["@pluginjs/dom"],e["@pluginjs/events"],e["@pluginjs/i18n"])}(this,(function(e,t,n,i,s,r,o,a){"use strict";function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e,t){if(null==e)return{};var n,i,s=function(e,t){if(null==e)return{};var n,i,s={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}n=n&&n.hasOwnProperty("default")?n.default:n,i=i&&i.hasOwnProperty("default")?i.default:i,a=a&&a.hasOwnProperty("default")?a.default:a,e.eventable=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){n.events=e,n.setEvents=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.events=s.deepMerge(n.events,e)},n.prototype.eventName=function(e){if(t.isUndefined(e))return".".concat(this.plugin);t.isArray(e)||(e=e.split(" "));for(var n=e.length,i=0;i<n;i++)e[i]="".concat(e[i],".").concat(this.plugin);return e.join(" ")},n.prototype.eventNameWithId=function(e,n){if(n=n||this.instanceId,t.isUndefined(e))return".".concat(this.plugin,"-").concat(n);t.isArray(e)||(e=e.split(" "));for(var i=e.length,s=0;s<i;s++)e[s]="".concat(e[s],".").concat(this.plugin,"-").concat(n);return e.join(" ")},n.prototype.trigger=function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e instanceof Event?(o.trigger(e,this.element),e=e.type):o.trigger.apply(void 0,[this.selfEventName(e),this].concat(i,[this.element])),e=s.camelize(e);var a="on".concat(e);t.isUndefined(this.options)||t.isUndefined(this.options[a])||!t.isFunction(this.options[a])||this.options[a].apply(this,i)},n.prototype.selfEventName=function(e){t.isArray(e)||(e=e.split(" "));for(var n=e.length,i=0;i<n;i++)e[i]="".concat(this.plugin,":").concat(e[i]);return e.join(" ")}}},e.globalRegister=function(e){return function(t){i[e]=t}},e.optionable=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){n.defaults=e,n.setDefaults=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.defaults=s.deepMerge(n.defaults,e)},t?(n.prototype.setupOptions=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.options=s.deepMerge.apply(void 0,[n.defaults].concat(t,[this.getDataOptions()]))},n.prototype.getDataOptions=function(){return this.element?s.parseDataOptions(this.element.dataset):{}}):n.prototype.setupOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=s.deepMerge(n.defaults,e)}}},e.register=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a){var p=o.methods,f=void 0===p?[]:p,g=o.dependencies,h=void 0===g?{}:g,d=u(o,["methods","dependencies"]);i.register(e,Object.assign(a,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(n,!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({methods:a.methods?s.deepMerge(a.methods,f):f,dependencies:a.dependencies?s.deepMerge(a.dependencies,h):h},d)));var v=[];if(a.prototype.plugin=e,a.getInstances=function(){return v},a.addInstance=function(t){a.prototype instanceof n||r.setData(e,t,t.element),t.instanceId=s.getUID(t.plugin),v.push(t)},a.removeInstance=function(t){a.prototype instanceof n||r.removeData(e,t.element),v=v.filter((function(e){return e!==t}))},a.findInstanceByElement=function(e){return v.find((function(t){return t.element===e}))},a.prototype.resize&&void 0===a.resize&&(a.resize=function(e,t){for(var n=0;n<v.length;n++)v[n].resize(e,t)}),t.isFunction(a.resize)&&i.emitter.on("resize",(function(e,t,n){a.resize(t,n)})),a.prototype instanceof n)i[e]=a;else{var y=function(e){return"string"==typeof e?Array.from(document.querySelectorAll(e)):e instanceof NodeList||e instanceof HTMLCollection?Array.from(e):e instanceof Node?Array.of(e):t.isArray(e)?e:[]};i[e]=function(n,i){for(var s=arguments.length,o=new Array(s>2?s-2:0),l=2;l<s;l++)o[l-2]=arguments[l];var c=y(n);if(!c.length)throw new Error("Element is not exists.");var u=[];if(t.isString(i)){if(!a.methods.includes(i))throw new Error('Method "'.concat(i,'" is not exists on "').concat(e,'".'));u=c.map((function(t){var n=r.getData(e,t);return n instanceof a?n[i].apply(n,o):null}))}else u=c.map((function(e){return a.of(e,i)}));return 1===u.length?u[0]:u},Object.setPrototypeOf(i[e],a)}return a}},e.stateable=function(){return function(e){e.prototype.setupStates=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._states=e},e.prototype.is=function(e){return!!(this._states[e]&&this._states[e]>0)},e.prototype.enter=function(e){void 0===this._states[e]&&(this._states[e]=0),this._states[e]=1},e.prototype.leave=function(e){void 0===this._states[e]&&(this._states[e]=0),this._states[e]=0}}},e.styleable=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){n.classes=e,n.setClasses=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.classes=s.deepMerge(n.classes,e)},n.prototype.getClass=function(e,t,n){return void 0!==t?this.getClass(e.replace("{".concat(t,"}"),n)):e.replace("{namespace}",this.classes.NAMESPACE||"")},n.prototype.getClasses=function(e,n,i){if(t.isString(i)&&void 0!==e&&void 0!==n){i=i.split(" ");for(var s=0;s<i.length;s++)i[s]=this.getClass(e,n,i[s]);return i.join(" ")}return""},n.prototype.setupClasses=function(e){var i=this,r={};if(void 0!==this.options&&t.isObject(this.options.classes)&&(r=this.options.classes),this.classes=s.deepMerge({},n.classes,e,function e(n){var i={};for(var s in n)Object.hasOwnProperty.call(n,s)&&(t.isString(n[s])?i[s.toUpperCase()]=n[s]:t.isObject(n[s])&&(i[s.toUpperCase()]=e(n[s])));return i}(r)),void 0!==this.classes.NAMESPACE){this.classes=function e(n){for(var s in n)Object.hasOwnProperty.call(n,s)&&(t.isString(n[s])?n[s]=i.getClass(n[s]):t.isObject(n[s])&&(n[s]=e(n[s])));return n}(this.classes)}}}},e.themeable=function(){return function(e){e.prototype.getThemeClass=function(e,n){if(void 0===e&&void 0!==this.options&&t.isString(this.options.theme))return this.getThemeClass(this.options.theme);if(t.isString(e)){if(void 0===n&&void 0!==this.classes&&(n=this.classes.THEME),e=e.split(" "),n)for(var i=0;i<e.length;i++)e[i]=n.replace("{theme}",e[i]);else for(var s=0;s<e.length;s++)e[s]=this.getClass(e[s]);return e.join(" ")}return""}}},e.translateable=function(e){return function(t){t.I18N=new a({locale:t.defaults.locale,fallbacks:t.defaults.localeFallbacks},e),Object.assign(t.prototype,{setupI18n:function(){this.i18n=t.I18N.instance({locale:this.options.locale,fallbacks:this.options.localeFallbacks})},translate:function(e,t){return this.i18n.translate(e,t)},setLocale:function(e){return this.i18n.setLocale(e)},getLocale:function(){return this.i18n.getLocale()}})}},Object.defineProperty(e,"__esModule",{value:!0})}));
